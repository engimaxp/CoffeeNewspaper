<UserControl x:Class="CN_WPF.MemoListItemControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:CN_WPF"
             xmlns:design="clr-namespace:CN_Presentation.ViewModel.Controls.Design;assembly=CN_Presentation"
             mc:Ignorable="d"
             d:DesignWidth="800"
             d:DataContext="{x:Static design:MemoListItemDesignModel.Instance}">
    <UserControl.Resources>
        <Style x:Key="ContentStyle" TargetType="{x:Type ContentControl}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ContentControl}">
                        <Border Padding="10"
                                Margin="10 0 20 10"
                                Background="{StaticResource WordVeryVeryLightBlueBrush}"
                                CornerRadius="10">
                            <Grid
                                MinHeight="300">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <!-- Title -->
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Grid.Column="0"
                                              Padding="0 0 5 0"
                                              Style="{StaticResource FontAweSomeCheckBox}" />

                                    <Border
                                        Margin="0 0 10 0"
                                        Grid.Column="1">
                                        <TextBox
                                            Padding="0"
                                            Margin="0"
                                            Text="{Binding MemoTitle,Mode=TwoWay,UpdateSourceTrigger=LostFocus}"
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeRegular}"
                                            />

                                    </Border>
                                    <StackPanel Grid.Column="2"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Button Style="{StaticResource IconDarkerButton}"
                                                Content="{StaticResource FontAwesomeCopyIcon}"
                                                FontFamily="{StaticResource FontAwesomeRegular}"
                                                FontSize="{StaticResource FontSizeLarge}" />

                                        <Button Style="{StaticResource IconDarkerButton}"
                                                Content="{StaticResource FontAwesomeCaretSquareUpIcon}"
                                                FontFamily="{StaticResource FontAwesomeRegular}"
                                                FontSize="{StaticResource FontSizeLarge}" />

                                        <Button Style="{StaticResource IconDarkerButton}"
                                                Content="{StaticResource FontAwesomeCaretSquareDownIcon}"
                                                FontFamily="{StaticResource FontAwesomeRegular}"
                                                FontSize="{StaticResource FontSizeLarge}" />

                                        <Button Style="{StaticResource IconDarkerButton}"
                                                Content="{StaticResource FontAwesomeTrashAltIcon}"
                                                FontFamily="{StaticResource FontAwesomeRegular}"
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Command="{Binding DeleteCommand}"/>
                                    </StackPanel>
                                </Grid>
                                <!-- Content -->
                                <TextBox Grid.Row="1"
                                         Style="{StaticResource MemoContent}"
                                         TextWrapping="Wrap"
                                         AcceptsReturn="True"
                                         FontSize="{StaticResource FontSizeRegular}"
                                         Text="{Binding MemoContent,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                <!-- Tags -->
                                <local:TagPanelControl 
                                    Grid.Row="2" 
                                    Margin="5 0 0 0" 
                                    DataContext="{Binding TagPanelViewModel}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ContentControl
        Style="{StaticResource ContentStyle}" />
</UserControl>