<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>e:\githubproject\coffeenewspaper\coffeenewspaper\cn_wpf\input\textentrycontrol.xaml</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
&lt;UserControl x:Class=&quot;CN_WPF.TextEntryControl&quot;
             xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
             xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot; 
             xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot; 
             xmlns:local=&quot;clr-namespace:CN_WPF&quot;
             xmlns:design=&quot;clr-namespace:CN_Presentation.Input.Design;assembly=CN_Presentation&quot;
             mc:Ignorable=&quot;d&quot; 
             d:DataContext=&quot;{x:Static design:TextEntryDesignModel.Instance}&quot;&gt;
    
    &lt;!-- Grey underline --&gt;
    &lt;Border BorderBrush=&quot;{StaticResource ForegroundDarkBrush}&quot;
            BorderThickness=&quot;0 0 0 0.5&quot;&gt;

        &lt;Grid Background=&quot;Transparent&quot;&gt;

            &lt;!-- Double click to edit --&gt;
            &lt;Grid.InputBindings&gt;
                &lt;MouseBinding MouseAction=&quot;LeftDoubleClick&quot; Command=&quot;{Binding EditCommand}&quot; /&gt;
            &lt;/Grid.InputBindings&gt;
            
            &lt;!-- Hover over to show edit button --&gt;
            &lt;Grid.Triggers&gt;
                &lt;EventTrigger RoutedEvent=&quot;Mouse.MouseEnter&quot;&gt;
                    &lt;BeginStoryboard&gt;
                        &lt;Storyboard&gt;
                            &lt;DoubleAnimation To=&quot;1&quot; 
                                             Duration=&quot;0:0:0.4&quot; 
                                             Storyboard.TargetName=&quot;EditButton&quot;
                                             Storyboard.TargetProperty=&quot;Opacity&quot; /&gt;
                        &lt;/Storyboard&gt;
                    &lt;/BeginStoryboard&gt;
                &lt;/EventTrigger&gt;
                &lt;EventTrigger RoutedEvent=&quot;Mouse.MouseLeave&quot;&gt;
                    &lt;BeginStoryboard&gt;
                        &lt;Storyboard&gt;
                            &lt;DoubleAnimation To=&quot;0&quot; 
                                             Duration=&quot;0:0:0.4&quot; 
                                             Storyboard.TargetName=&quot;EditButton&quot;
                                             Storyboard.TargetProperty=&quot;Opacity&quot; /&gt;
                        &lt;/Storyboard&gt;
                    &lt;/BeginStoryboard&gt;
                &lt;/EventTrigger&gt;
            &lt;/Grid.Triggers&gt;
            
            &lt;!-- Label -&gt; Name* -&gt; Buttons --&gt;
            &lt;Grid.ColumnDefinitions&gt;
                &lt;ColumnDefinition Name=&quot;LabelColumnDefinition&quot; Width=&quot;Auto&quot; /&gt;
                &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
                &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
            &lt;/Grid.ColumnDefinitions&gt;

            &lt;!-- Label --&gt;
            &lt;TextBlock Text=&quot;{Binding Label}&quot;
                       Name=&quot;Label&quot;
                       Margin=&quot;15 12&quot;
                       HorizontalAlignment=&quot;Left&quot;
                       VerticalAlignment=&quot;Center&quot;
                       FontFamily=&quot;Microsoft YaHei&quot;
                       /&gt;

            &lt;!-- Edit Content --&gt;
            &lt;TextBox Text=&quot;{Binding EditedText, UpdateSourceTrigger=PropertyChanged}&quot;
                     Grid.Column=&quot;1&quot;
                     Opacity=&quot;0&quot;
                     local:AnimateFadeInProperty.Value=&quot;{Binding Editing}&quot;
                     local:FocusAndSelectProperty.Value=&quot;{Binding Editing}&quot;
                     FontSize=&quot;{StaticResource FontSizeRegular}&quot;
                     Padding=&quot;2&quot;
                     Margin=&quot;10 10 15 8&quot;
                     /&gt;

            &lt;!-- Content --&gt;
            &lt;TextBlock Text=&quot;{Binding OriginalText}&quot; 
                       Grid.Column=&quot;1&quot;
                       local:AnimateFadeInProperty.Value=&quot;{Binding Editing, Converter={local:BooleanInvertConverter}}&quot;
                       Margin=&quot;15 8&quot;
                       VerticalAlignment=&quot;Center&quot;
                       ToolTip=&quot;{Binding OriginalText}&quot;
                       /&gt;

            &lt;!-- Edit button container --&gt;
            &lt;Grid Grid.Column=&quot;2&quot; 
                  local:AnimateFadeInProperty.Value=&quot;{Binding Editing, Converter={local:BooleanInvertConverter}}&quot;&gt;
                
                &lt;!-- Edit Button --&gt;
                &lt;Button Content=&quot;{StaticResource FontAwesomeEllipsisHIcon}&quot;
                        FontFamily=&quot;{StaticResource FontAwesomeSolid}&quot;
                        x:Name=&quot;EditButton&quot;
                        Opacity=&quot;0&quot;
                        Padding=&quot;8 5&quot;
                        Margin=&quot;0&quot;
                        Cursor=&quot;Hand&quot;
                        Command=&quot;{Binding EditCommand}&quot;
                        Background=&quot;{StaticResource ForegroundDarkBrush}&quot;
                        FontSize=&quot;{StaticResource FontSizeSmall}&quot;
                        VerticalAlignment=&quot;Center&quot;
                        /&gt;
            &lt;/Grid&gt;

            &lt;StackPanel Grid.Column=&quot;2&quot;
                        Orientation=&quot;Horizontal&quot;
                        &gt;

                &lt;!-- Save Button --&gt;
                &lt;Button Content=&quot;{StaticResource FontAwesomeCheckIcon}&quot;
                        FontFamily=&quot;{StaticResource FontAwesomeSolid}&quot;
                        local:AnimateFadeInProperty.Value=&quot;{Binding Editing}&quot;
                        IsDefault=&quot;True&quot;
                        Cursor=&quot;Hand&quot;
                        Command=&quot;{Binding SaveCommand}&quot;
                        Background=&quot;{StaticResource WordGreenBrush}&quot;
                        Padding=&quot;8 5&quot;
                        Margin=&quot;0 0 5 0&quot;
                        VerticalAlignment=&quot;Center&quot;
                        FontSize=&quot;{StaticResource FontSizeSmall}&quot;
                        /&gt;

                &lt;!-- Cancel Button --&gt;
                &lt;Button Content=&quot;{StaticResource FontAwesomeCloseIcon}&quot;
                        FontFamily=&quot;{StaticResource FontAwesomeSolid}&quot;
                        local:AnimateFadeInProperty.Value=&quot;{Binding Editing}&quot;
                        IsCancel=&quot;True&quot;
                        Cursor=&quot;Hand&quot;
                        Command=&quot;{Binding CancelCommand}&quot;
                        Background=&quot;{StaticResource WordOrangeBrush}&quot;
                        Padding=&quot;8 5&quot;
                        Margin=&quot;0&quot;
                        VerticalAlignment=&quot;Center&quot;
                        FontSize=&quot;{StaticResource FontSizeSmall}&quot;
                        /&gt;

            &lt;/StackPanel&gt;
            
        &lt;/Grid&gt;
            
    &lt;/Border&gt;
&lt;/UserControl&gt;

    </pre>
    <script type="text/javascript">
      highlightRanges([[1,13,1,77,0]]);
    </script>
  </body>
</html>